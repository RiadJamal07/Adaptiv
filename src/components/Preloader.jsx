import React, { useEffect } from 'react';
import { motion } from 'framer-motion';

const Preloader = ({ setLoading }) => {
    useEffect(() => {
        const timer = setTimeout(() => {
            setLoading(false);
        }, 3500); // Allow time for animation
        return () => clearTimeout(timer);
    }, [setLoading]);

    const orangePaths = [
        "M633.560913,278.563019 C644.408020,270.507172 654.904053,262.575958 665.601135,254.925858 C667.597473,253.498154 670.398193,252.490173 672.831360,252.482727 C719.149475,252.340759 765.468201,252.360306 811.786743,252.391205 C822.490479,252.398346 826.298584,257.070953 823.757202,267.046234 C806.852173,333.398804 789.915649,399.743347 772.985107,466.089417 C772.864746,466.561096 772.686157,467.017914 772.439026,467.775208 C771.034302,467.848602 769.569458,467.991150 768.104492,467.991852 C740.946472,468.005188 713.788269,468.050507 686.630981,467.905457 C684.536621,467.894287 682.017151,467.032501 680.426453,465.695862 C665.638245,453.269958 651.057007,440.597992 636.303894,428.129852 C632.533752,424.943726 631.305908,421.085602 632.463989,416.575287 C633.726135,411.659546 636.918274,408.242889 642.202026,407.928131 C649.338440,407.503021 656.501709,407.445282 663.654541,407.399078 C675.650208,407.321594 687.648254,407.276825 699.641968,407.448120 C702.661438,407.491180 704.049683,406.592712 704.797852,403.614838 C712.046936,374.762695 719.422607,345.942413 726.739502,317.107269 C726.977478,316.169617 726.973450,315.170532 727.212952,313.034485 C723.589111,315.662292 720.702393,317.712952 717.859802,319.823120 C652.622498,368.251862 587.407104,416.710266 522.086060,465.025818 C519.773865,466.735992 516.427246,467.860779 513.555054,467.876801 C479.067108,468.069824 444.577728,468.003204 410.088715,468.000305 C402.914978,467.999725 399.456940,466.141235 397.983276,461.522430 C396.457306,456.739716 398.017303,453.396118 403.861481,449.058289 C480.332367,392.298065 556.806274,335.541931 633.560913,278.563019 z",
        "M1302.013062,467.870026 C1297.543457,467.869995 1293.571411,467.869995 1289.431763,467.869995 C1282.232056,494.697571 1275.132202,521.149536 1268.035645,547.602356 C1267.518921,549.528381 1266.747192,551.434998 1266.566650,553.394226 C1265.384521,566.221191 1258.270630,574.419556 1247.417114,580.864441 C1236.283691,587.475525 1226.001831,595.520203 1215.345215,602.934448 C1207.205566,608.597595 1197.683472,604.156677 1196.947876,594.221741 C1196.781006,591.968994 1197.253784,589.584961 1197.846313,587.372253 C1222.480103,495.398804 1247.161987,403.438232 1271.834351,311.475098 C1275.411499,298.141388 1275.122314,284.846527 1271.298218,271.242798 C1272.040161,271.104675 1272.768311,270.850098 1273.496216,270.850555 C1325.976074,270.882660 1378.458008,270.670319 1430.934692,271.099762 C1456.338135,271.307648 1470.211304,289.170227 1464.187378,313.970886 C1457.481201,341.579895 1449.817139,368.961090 1442.268311,396.358307 C1438.790039,408.982544 1436.008179,422.085114 1430.418701,433.779907 C1419.743042,456.117065 1400.810059,467.432190 1375.983521,467.792480 C1351.497314,468.147797 1327.001953,467.870056 1302.013062,467.870026 M1318.984985,357.499695 C1314.485474,374.235687 1309.985962,390.971680 1305.305664,408.379883 C1307.886475,408.379883 1309.517334,408.379852 1311.148193,408.379852 C1329.452271,408.379852 1347.756226,408.392395 1366.060303,408.374786 C1375.581299,408.365631 1380.531494,404.679291 1383.047363,395.533051 C1387.845337,378.090607 1392.568848,360.627625 1397.283936,343.162567 C1399.709106,334.179962 1396.746704,330.117950 1387.400879,330.039215 C1371.760376,329.907379 1356.117798,330.001221 1340.476196,330.000244 C1335.841187,329.999939 1331.206177,330.000183 1326.470581,330.000183 C1323.966431,339.139038 1321.560547,347.919678 1318.984985,357.499695 z",
        "M812.457153,402.433441 C820.136475,373.964233 827.304199,345.773499 835.299316,317.819397 C842.623474,292.211090 859.395630,276.192535 886.062866,271.516571 C890.127808,270.803802 894.357544,270.862976 898.511719,270.854218 C924.500854,270.799286 950.490784,270.735657 976.478638,270.926331 C980.288757,270.954315 981.996460,269.962036 982.978577,266.195160 C989.888672,239.691315 996.939636,213.223251 1004.178711,186.807648 C1004.851562,184.352280 1006.692261,181.710693 1008.759460,180.225693 C1022.409729,170.419952 1036.346069,161.013092 1050.022095,151.242233 C1054.871460,147.777634 1059.554077,145.721542 1065.075928,149.360306 C1069.814453,152.482864 1071.389404,158.422638 1069.501465,165.453873 C1060.926270,197.388794 1052.359253,229.325928 1043.785034,261.261108 C1025.818604,328.177673 1007.810730,395.083221 989.969360,462.033142 C988.805054,466.402405 987.232666,468.037048 982.355164,468.012329 C935.542419,467.774994 888.727966,467.898743 841.914185,467.816895 C838.118896,467.810272 834.235962,467.430908 830.545410,466.572540 C811.535645,462.151276 802.150452,446.141479 806.536377,425.518372 C808.159363,417.886780 810.365845,410.379211 812.457153,402.433441 M876.682495,407.251862 C878.781799,407.627686 880.879761,408.320557 882.980713,408.329803 C902.130310,408.414093 921.281372,408.289429 940.429749,408.465485 C943.724060,408.495758 945.075745,407.420166 945.880432,404.347778 C950.509949,386.673004 955.308838,369.042603 960.036438,351.393402 C961.903931,344.421631 963.735962,337.440308 965.679016,330.105286 C944.095215,330.105286 923.292053,329.921082 902.495239,330.205383 C895.228210,330.304749 890.337585,334.788971 888.389587,341.652191 C883.174622,360.026398 878.240356,378.481018 873.306763,396.933655 C872.324463,400.607452 872.427185,404.257111 876.682495,407.251862 z",
        "M1628.361938,435.370667 C1639.140381,395.171997 1649.579712,355.303711 1660.514282,315.571686 C1664.592651,300.753082 1665.419312,286.168518 1660.917480,270.913879 C1714.652344,270.913879 1768.048096,270.913879 1822.036499,270.913879 C1826.064697,310.795685 1830.071533,350.467224 1834.189087,391.234039 C1835.613770,389.165222 1836.607788,387.814209 1837.506836,386.402740 C1861.198364,349.206848 1884.911621,312.024628 1908.500122,274.763580 C1910.303101,271.915375 1912.151245,270.705475 1915.623413,270.738434 C1934.924805,270.921509 1954.228760,270.826294 1974.274902,270.826294 C1973.172485,272.758820 1972.443481,274.171082 1971.593994,275.506653 C1931.677002,338.258392 1891.726807,400.989014 1851.893555,463.793823 C1849.960693,466.841095 1847.936035,467.988464 1844.327148,467.956482 C1824.168091,467.777802 1804.006714,467.870544 1783.846069,467.870514 C1782.362793,467.870514 1780.879517,467.870483 1778.883545,467.870483 C1777.938599,459.216339 1776.998657,450.825867 1776.109985,442.429962 C1772.186401,405.362671 1768.272217,368.294464 1764.368286,331.225128 C1763.549194,323.446625 1762.529907,315.676697 1762.086182,307.875336 C1761.767212,302.267944 1759.736328,297.772614 1755.153320,294.749481 C1747.123535,289.452759 1738.898804,284.451691 1730.180298,278.964569 C1729.321655,281.420685 1728.641479,283.024933 1728.195312,284.691772 C1712.381836,343.768188 1696.523560,402.832855 1680.919556,461.964600 C1679.643799,466.798920 1677.614746,468.068481 1672.836304,467.987579 C1655.363159,467.691772 1637.881836,467.870514 1619.787964,467.870514 C1622.679688,456.856323 1625.449585,446.305756 1628.361938,435.370667 z",
        "M1086.000000,467.869812 C1074.356201,467.617889 1063.116211,468.200378 1052.089722,466.930237 C1032.643555,464.690216 1020.755554,448.982574 1024.595825,429.632416 C1027.981689,412.571808 1032.424927,395.560394 1038.244507,379.182159 C1046.409424,356.203796 1068.487183,341.902039 1092.840088,341.841736 C1119.172119,341.776550 1145.504517,341.872162 1171.835938,341.734558 C1173.784546,341.724396 1175.726318,340.399170 1177.671143,339.685364 C1176.493530,336.967438 1176.013428,333.291687 1173.950439,331.789490 C1171.693481,330.145996 1167.975098,330.078461 1164.890991,330.068085 C1132.726196,329.959839 1100.560791,330.001343 1068.395630,330.001343 C1066.581909,330.001343 1064.768311,330.001343 1062.302856,330.001343 C1065.185059,319.240173 1067.939331,308.997162 1070.670044,298.747894 C1072.808228,290.722107 1074.973267,282.702728 1077.005615,274.649994 C1077.638306,272.143646 1078.440918,270.736664 1081.558960,270.747314 C1124.055664,270.892700 1166.557983,270.483185 1209.047974,271.047882 C1236.751465,271.416046 1250.162476,289.178101 1243.316284,315.962128 C1233.766357,353.323425 1223.511108,390.504517 1213.544800,427.759277 C1209.986572,441.059967 1206.390137,454.350464 1202.750854,467.869873 C1163.796875,467.869873 1125.148438,467.869873 1086.000000,467.869812 M1153.235718,408.534210 C1155.368164,408.048126 1158.962646,408.111023 1159.385986,406.983276 C1161.489624,401.380707 1162.757568,395.464386 1164.450928,389.171631 C1143.858398,389.171631 1124.229736,389.147186 1104.601440,389.216797 C1102.979614,389.222534 1101.307739,389.711365 1099.748901,390.240601 C1093.773071,392.269440 1089.809814,397.694427 1090.701294,402.450867 C1091.497192,406.696808 1094.946777,408.522156 1102.357422,408.529266 C1119.004517,408.545258 1135.651733,408.533966 1153.235718,408.534210 z",
        "M1583.022949,270.825287 C1594.653687,270.825256 1605.789185,270.825256 1617.752075,270.825256 C1612.443359,290.795502 1607.297363,310.153198 1602.020752,330.002563 C1591.449951,330.002563 1581.016235,329.967377 1570.582886,330.017578 C1565.440308,330.042297 1558.884521,328.352203 1555.556030,330.865387 C1552.262451,333.352203 1552.129028,340.126709 1550.778809,345.066681 C1546.091553,362.216064 1541.415039,379.368896 1536.864136,396.554749 C1534.775757,404.441193 1537.836182,408.334686 1546.020630,408.357544 C1566.010498,408.413391 1586.000732,408.375916 1605.990723,408.376038 C1607.810181,408.376068 1609.629639,408.376068 1612.293945,408.376068 C1606.984741,428.348053 1601.808594,447.819275 1596.478149,467.871399 C1594.684814,467.871399 1592.900635,467.871429 1591.116577,467.871429 C1562.464233,467.871429 1533.811646,467.918701 1505.159668,467.814545 C1501.365234,467.800781 1497.488647,467.382996 1493.795410,466.526093 C1475.607788,462.306458 1465.601318,447.149139 1469.649536,427.951233 C1473.484253,409.766998 1478.769165,391.885956 1483.511108,373.896515 C1487.316528,359.460266 1491.263794,345.061371 1495.313232,330.032410 C1488.609131,330.032410 1482.396240,330.032410 1475.654907,330.032410 C1480.990234,310.028870 1486.159302,290.648651 1491.446533,270.825348 C1496.391968,270.825348 1501.202759,270.601837 1505.981689,270.897003 C1509.716675,271.127686 1511.473022,270.169617 1512.443970,266.151489 C1515.603149,253.077148 1519.381592,240.153595 1522.774536,227.133667 C1523.389282,224.774765 1523.983032,223.303696 1526.890625,223.322067 C1544.880859,223.435822 1562.872314,223.380142 1580.863281,223.402817 C1581.468262,223.403580 1582.072998,223.639496 1583.064209,223.846420 C1578.931152,239.438599 1574.865723,254.775253 1570.611206,270.825317 C1574.997803,270.825317 1578.762817,270.825317 1583.022949,270.825287 z",
        "M1677.702393,251.664917 C1680.620605,240.884613 1683.403076,230.496964 1686.207275,220.028687 C1705.973877,220.028687 1725.387207,220.028687 1745.521484,220.028687 C1743.211182,228.812592 1741.067017,237.260620 1738.748169,245.660416 C1737.522217,250.102020 1737.230835,256.006989 1734.237427,258.403290 C1731.458496,260.627930 1725.649414,259.147095 1721.174194,259.158630 C1706.232788,259.197174 1691.291138,259.173218 1675.765503,259.173218 C1676.457275,256.440887 1677.012085,254.249237 1677.702393,251.664917 z"
    ];

    const darkPaths = [
        "M600.081177,281.075958 C517.472351,342.390656 435.180389,403.534485 352.769012,464.516907 C350.064850,466.517944 346.151917,467.830475 342.791351,467.853729 C308.141602,468.093414 273.489532,468.019104 238.838165,467.987671 C230.494064,467.980103 225.416565,462.085999 228.276459,455.382721 C229.306534,452.968353 231.656067,450.875427 233.851700,449.236237 C264.658447,426.237244 295.537903,403.335602 326.409271,380.423187 C382.804260,338.567352 439.193665,296.703888 495.657745,254.941467 C497.502075,253.577362 500.131927,252.596008 502.400421,252.586456 C537.217834,252.439636 572.036011,252.480911 606.854004,252.496765 C608.179260,252.497360 609.504456,252.680756 610.829529,252.781769 C614.975647,253.097809 617.722534,255.436874 618.816101,259.237183 C619.952637,263.186890 619.025940,266.907471 615.588074,269.539398 C610.567200,273.383148 605.453613,277.105743 600.081177,281.075958 z",
        "M266.645721,335.652161 C271.062439,331.212158 276.062012,330.278564 281.881195,330.366547 C301.868073,330.668976 321.863342,330.389954 341.852631,330.597504 C344.420319,330.624115 347.598297,331.545959 349.384888,333.229584 C352.104889,335.792847 350.640137,339.645477 346.460175,342.752747 C324.822418,358.837433 303.174713,374.908783 281.528046,390.981567 C248.925858,415.188965 216.279846,439.337769 183.771179,463.670135 C179.697525,466.719208 175.704163,468.177734 170.551315,468.109924 C150.396744,467.844543 130.236618,467.986206 110.078590,468.015839 C106.516808,468.021088 102.717278,468.297455 101.192123,464.194977 C99.606895,459.930786 102.452980,457.441925 105.551964,455.144989 C159.168106,415.405457 212.765457,375.640564 266.645721,335.652161 z"
    ];

    return (
        <motion.div
            style={styles.container}
            initial={{ opacity: 1 }}
            exit={{ opacity: 0 }}
            transition={{ duration: 0.8, ease: "easeInOut" }}
            layout={false}
        >
            <div style={styles.logoContainer}>
                <svg
                    viewBox="0 0 2067 732"
                    style={styles.svg}
                >
                    {/* Orange Paths */}
                    {orangePaths.map((d, i) => (
                        <motion.path
                            key={`orange-${i}`}
                            d={d}
                            fill="transparent"
                            stroke="#E15330"
                            strokeWidth="5"
                            initial={{ pathLength: 0, fillOpacity: 0 }}
                            animate={{ pathLength: 1, fillOpacity: 1 }}
                            transition={{
                                pathLength: { duration: 2, ease: "easeInOut" },
                                fillOpacity: { duration: 0.5, delay: 2 }
                            }}
                            layout={false}
                        />
                    ))}

                    {/* Dark Paths */}
                    {darkPaths.map((d, i) => (
                        <motion.path
                            key={`dark-${i}`}
                            d={d}
                            fill="transparent"
                            stroke="#F8F9DF"
                            strokeWidth="5"
                            initial={{ pathLength: 0, fillOpacity: 0 }}
                            animate={{ pathLength: 1, fillOpacity: 1 }}
                            transition={{
                                pathLength: { duration: 2, ease: "easeInOut", delay: 0.5 },
                                fillOpacity: { duration: 0.5, delay: 2.5 }
                            }}
                            layout={false}
                        />
                    ))}
                </svg>
            </div>
        </motion.div>
    );
};

const styles = {
    container: {
        position: 'fixed',
        top: 0,
        left: 0,
        width: '100%',
        height: '100vh',
        backgroundColor: '#000',
        display: 'flex',
        justifyContent: 'center',
        alignItems: 'center',
        zIndex: 9999,
    },
    logoContainer: {
        position: 'relative',
        width: '60%',
        maxWidth: '600px',
        height: 'auto',
    },
    svg: {
        width: '100%',
        height: '100%',
        overflow: 'visible',
    }
};

export default Preloader;
